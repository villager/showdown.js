{
  "version": 3,
  "sources": ["../../../src/managers/roomlist.ts"],
  "sourcesContent": ["\r\nimport { toId } from \"../lib\";\r\nexport class RoomListManager {\r\n    client: Client;\r\n    isOfficial: Set<string>\r\n    isChat: Set<string>\r\n\tconstructor(client: Client) {\r\n        this.client = client;\r\n\t\tthis.isOfficial = new Set();\r\n\t\tthis.isChat = new Set();\r\n\t}\r\n\tjoin(rooms: string|string[]) {\r\n\t\tif (Array.isArray(rooms)) {\r\n\t\t\tlet roomData = [];\r\n\t\t\tfor (const room of rooms) {\r\n\t\t\t\tif (!this.client.rooms.has(toId(room) as ID)) {\r\n\t\t\t\t\troomData.push(`/join ${toId(room)}`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.client.send(roomData);\r\n\t\t} else {\r\n\t\t\tif (!this.client.rooms.has(toId(rooms) as ID)) {\r\n\t\t\t\tthis.client.send(`/join ${rooms}` as string);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Join in all section room\r\n\t * @private\r\n\t * @param {Set}\r\n\t */\r\n\tjoinSection(section: Set<string>) {\r\n\t\tsection.forEach(room => {\r\n\t\t\tthis.join(room);\r\n\t\t})\r\n\t}\r\n\tcheck() {\r\n\t\tfor (const room of this.client.baseRooms) {\r\n\t\t\tif (room === 'all') {\r\n\t\t\t\tthis.joinSection(this.isOfficial);\r\n\t\t\t\tthis.joinSection(this.isChat);\r\n\t\t\t} else if (room === 'official') {\r\n\t\t\t\tthis.joinSection(this.isOfficial);\r\n\t\t\t} else if (room === 'chat' || room === 'public') {\r\n\t\t\t\tthis.joinSection(this.isChat);\r\n\t\t\t} else {\r\n\t\t\t\tthis.join(room);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,iBAAqB;AACd,MAAM,gBAAgB;AAAA,EAI5B,YAAY,QAAgB;AACrB,SAAK,SAAS;AACpB,SAAK,aAAa,oBAAI,IAAI;AAC1B,SAAK,SAAS,oBAAI,IAAI;AAAA,EACvB;AAAA,EACA,KAAK,OAAwB;AAC5B,QAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,UAAI,WAAW,CAAC;AAChB,iBAAW,QAAQ,OAAO;AACzB,YAAI,CAAC,KAAK,OAAO,MAAM,QAAI,iBAAK,IAAI,CAAO,GAAG;AAC7C,mBAAS,KAAK,aAAS,iBAAK,IAAI,GAAG;AAAA,QACpC;AAAA,MACD;AACA,WAAK,OAAO,KAAK,QAAQ;AAAA,IAC1B,OAAO;AACN,UAAI,CAAC,KAAK,OAAO,MAAM,QAAI,iBAAK,KAAK,CAAO,GAAG;AAC9C,aAAK,OAAO,KAAK,SAAS,OAAiB;AAAA,MAC5C;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAY,SAAsB;AACjC,YAAQ,QAAQ,UAAQ;AACvB,WAAK,KAAK,IAAI;AAAA,IACf,CAAC;AAAA,EACF;AAAA,EACA,QAAQ;AACP,eAAW,QAAQ,KAAK,OAAO,WAAW;AACzC,UAAI,SAAS,OAAO;AACnB,aAAK,YAAY,KAAK,UAAU;AAChC,aAAK,YAAY,KAAK,MAAM;AAAA,MAC7B,WAAW,SAAS,YAAY;AAC/B,aAAK,YAAY,KAAK,UAAU;AAAA,MACjC,WAAW,SAAS,UAAU,SAAS,UAAU;AAChD,aAAK,YAAY,KAAK,MAAM;AAAA,MAC7B,OAAO;AACN,aAAK,KAAK,IAAI;AAAA,MACf;AAAA,IACD;AAAA,EACD;AACD;",
  "names": []
}
