{
  "version": 3,
  "sources": ["../../../../src/structures/message/handler.ts"],
  "sourcesContent": ["\r\nimport { RoomChannel } from \"./room\";\r\nimport { PMChannel } from \"./pm\";\r\nimport { toId } from \"../../lib\";\r\nimport { User } from \"../users\";\r\nexport class MessageHandler {\r\n    client: Client;\r\n    type: string;\r\n    content: string;\r\n    source: RoomChannel|PMChannel;\r\n    user: User\r\n\tconstructor(client: Client, options: AnyObject = {}) {\r\n        this.client = client;\r\n\t\tthis.type = options.type;\r\n\t\tthis.content = options.content;\r\n\t\tif (this.type === 'PM') {\r\n\t\t\tthis.source = new PMChannel(client, options);\r\n\t\t} else {\r\n\t\t\tthis.source = new RoomChannel(client, options);\r\n\t\t}\r\n\t\tif (this.client.users.has(toId(options.user) as ID)) {\r\n\t\t\tthis.user = this.client.users.get(toId(options.user) as ID);\r\n\t\t} else {\r\n\t\t\tthis.user = options.user;\r\n\t\t}\r\n\t}\r\n\treply(data: string) {\r\n\t\treturn this.source.send(data);\r\n\t}\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAA4B;AAC5B,gBAA0B;AAC1B,iBAAqB;AAEd,MAAM,eAAe;AAAA,EAM3B,YAAY,QAAgB,UAAqB,CAAC,GAAG;AAC9C,SAAK,SAAS;AACpB,SAAK,OAAO,QAAQ;AACpB,SAAK,UAAU,QAAQ;AACvB,QAAI,KAAK,SAAS,MAAM;AACvB,WAAK,SAAS,IAAI,oBAAU,QAAQ,OAAO;AAAA,IAC5C,OAAO;AACN,WAAK,SAAS,IAAI,wBAAY,QAAQ,OAAO;AAAA,IAC9C;AACA,QAAI,KAAK,OAAO,MAAM,QAAI,iBAAK,QAAQ,IAAI,CAAO,GAAG;AACpD,WAAK,OAAO,KAAK,OAAO,MAAM,QAAI,iBAAK,QAAQ,IAAI,CAAO;AAAA,IAC3D,OAAO;AACN,WAAK,OAAO,QAAQ;AAAA,IACrB;AAAA,EACD;AAAA,EACA,MAAM,MAAc;AACnB,WAAO,KAAK,OAAO,KAAK,IAAI;AAAA,EAC7B;AACD;",
  "names": []
}
